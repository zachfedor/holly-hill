/*
 * Copyright (C) 2007-2012 Diego Perini
 * All rights reserved.
 *
 * nwmatcher.js - A fast CSS selector engine and matcher
 *
 * Author: Diego Perini <diego.perini at gmail com>
 * Version: 1.2.5
 * Created: 20070722
 * Release: 20120101
 *
 * License:
 *  http://javascript.nwbox.com/NWMatcher/MIT-LICENSE
 * Download:
 *  http://javascript.nwbox.com/NWMatcher/nwmatcher.js
 */

(function(e){var t="nwmatcher-1.2.5",n=typeof exports=="object"?exports:(e.NW||(e.NW={}))&&(e.NW.Dom||(e.NW.Dom={})),r=e.document,i=r.documentElement,s=[].slice,o={}.toString,u,a,f,l,c,h,p,d,v,m="[#.:]?",g="([~*^$|!]?={1})",y="[\\x20\\t\\n\\r\\f]*",b="[\\x20]|[>+~][^>+~]",w="[-+]?\\d*n?[-+]?\\d*",E='"[^"]*"'+"|'[^']*'",S="\\([^()]+\\)|\\(.*\\)",x="\\{[^{}]+\\}|\\{.*\\}",T="\\[[^[\\]]*\\]|\\[.*\\]",N="\\[.*\\]|\\(.*\\)|\\{.*\\}",C="(?:[-\\w]|[^\\x00-\\xa0]|\\\\.)",k="(?:-?[_a-zA-Z]{1}[-\\w]*|[^\\x00-\\xa0]+|\\\\.+)+",L="("+E+"|"+k+")",A=y+"("+C+"+:?"+C+"+)"+y+"(?:"+g+y+L+")?"+y,O=A.replace(L,"([\\x22\\x27]*)((?:\\\\?.)*?)\\3"),M="((?:"+w+"|"+E+"|"+m+"|"+C+"+|"+"\\["+A+"\\]|"+"\\(.+\\)|"+y+"|"+",)+)",_=".+",D="(?=[\\x20\\t\\n\\r\\f]*[^>+~(){}<>])"+"("+"\\*"+"|(?:"+m+k+")"+"|"+b+"|\\["+A+"\\]"+"|\\("+M+"\\)"+"|\\{"+_+"\\}"+"|,"+")+",P=D.replace(M,".*"),H=new RegExp(D,"g"),B=new RegExp("^"+y+"|"+y+"$","g"),j=new RegExp("^("+"(?!:not)"+"("+m+"|"+k+"|\\([^()]*\\))+"+"|\\["+A+"\\]"+")$"),F=new RegExp("("+"[^,\\\\\\[\\]]+"+"|"+T+"|"+S+"|"+x+"|\\\\."+")+","g"),I=new RegExp("("+"\\["+A+"\\]|"+"\\("+M+"\\)|"+"[^\\x20>+~]|\\\\.)+","g"),q=/[\x20\t\n\r\f]+/g,R=new RegExp(k+"|^$"),U=function(){var e=(r.appendChild+"").replace(/appendChild/g,"");return function(t,n){var r=t&&t[n]||false;return r&&typeof r!="string"&&e==(r+"").replace(new RegExp(n,"g"),"")}}(),z=U(r,"hasFocus"),W=U(r,"querySelector"),X=U(r,"getElementById"),V=U(i,"getElementsByTagName"),$=U(i,"getElementsByClassName"),J=U(i,"getAttribute"),K=U(i,"hasAttribute"),Q=function(){var e=false,t=i.id;i.id="length";try{e=!!s.call(r.childNodes,0)[0]}catch(n){}i.id=t;return e}(),G="nextElementSibling"in i&&"previousElementSibling"in i,Y=X?function(){var e=true,t="x"+String(+(new Date)),n=r.createElementNS?"a":'<a name="'+t+'">';(n=r.createElement(n)).name=t;i.insertBefore(n,i.firstChild);e=!!r.getElementById(t);i.removeChild(n);return e}():true,Z=V?function(){var e=r.createElement("div");e.appendChild(r.createComment(""));return!!e.getElementsByTagName("*")[0]}():true,et=$?function(){var e,t=r.createElement("div"),n="台北";t.appendChild(r.createElement("span")).setAttribute("class",n+"abc "+n);t.appendChild(r.createElement("span")).setAttribute("class","x");e=!t.getElementsByClassName(n)[0];t.lastChild.className=n;return e||t.getElementsByClassName(n).length!=2}():true,tt=J?function(){var e=r.createElement("input");e.setAttribute("value",5);return e.defaultValue!=5}():true,nt=K?function(){var e=r.createElement("option");e.setAttribute("selected","selected");return!e.hasAttribute("selected")}():true,rt=function(){var e=r.createElement("select");e.appendChild(r.createElement("option"));return!e.firstChild.selected}(),it,st,ot,ut,at=/opera/i.test(o.call(e.opera)),ft=at&&parseFloat(opera.version())>=11,lt=W?function(){var e=[],t=r.createElement("div"),n,i=function(e,t,n,r){var i=false;t.appendChild(n);try{i=t.querySelectorAll(e).length==r}catch(s){}while(t.firstChild){t.removeChild(t.firstChild)}return i};n=r.createElement("p");n.setAttribute("class","");i('[class^=""]',t,n,1)&&e.push('[*^$]=[\\x20\\t\\n\\r\\f]*(?:""|'+"'')");n=r.createElement("option");n.setAttribute("selected","selected");i(":checked",t,n,0)&&e.push(":checked");n=r.createElement("input");n.setAttribute("type","hidden");i(":enabled",t,n,1)&&e.push(":enabled",":disabled");n=r.createElement("link");n.setAttribute("href","x");i(":link",t,n,1)||e.push(":link");if(nt){e.push("\\[[\\x20\\t\\n\\r\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)")}return e.length?new RegExp(e.join("|")):{test:function(){return false}}}():true,ct=new RegExp("(?:\\[[\\x20\\t\\n\\r\\f]*class\\b|\\."+k+")"),ht=new RegExp(!(Z&&et)?!at?"^(?:\\*|[.#]?-?[_a-zA-Z]{1}"+C+"*)$":"^(?:\\*|#-?[_a-zA-Z]{1}"+C+"*)$":"^#?-?[_a-zA-Z]{1}"+C+"*$"),pt={a:1,A:1,area:1,AREA:1,link:1,LINK:1},dt={checked:1,disabled:1,ismap:1,multiple:1,readonly:1,selected:1},vt={value:"defaultValue",checked:"defaultChecked",selected:"defaultSelected"},mt={action:2,cite:2,codebase:2,data:2,href:2,longdesc:2,lowsrc:2,src:2,usemap:2},gt={"class":0,accept:1,"accept-charset":1,align:1,alink:1,axis:1,bgcolor:1,charset:1,checked:1,clear:1,codetype:1,color:1,compact:1,declare:1,defer:1,dir:1,direction:1,disabled:1,enctype:1,face:1,frame:1,hreflang:1,"http-equiv":1,lang:1,language:1,link:1,media:1,method:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,rel:1,rev:1,rules:1,scope:1,scrolling:1,selected:1,shape:1,target:1,text:1,type:1,valign:1,valuetype:1,vlink:1},yt={accept:1,"accept-charset":1,alink:1,axis:1,bgcolor:1,charset:1,codetype:1,color:1,enctype:1,face:1,hreflang:1,"http-equiv":1,lang:1,language:1,link:1,media:1,rel:1,rev:1,target:1,text:1,type:1,vlink:1},bt={},wt={"=":"n=='%m'","^=":"n.indexOf('%m')==0","*=":"n.indexOf('%m')>-1","|=":"(n+'-').indexOf('%m-')==0","~=":"(' '+n+' ').indexOf(' %m ')>-1","$=":"n.substr(n.length-'%m'.length)=='%m'"},Et={ID:new RegExp("^\\*?#("+C+"+)|"+N),TAG:new RegExp("^("+C+"+)|"+N),CLASS:new RegExp("^\\*?\\.("+C+"+$)|"+N)},St={spseudos:/^\:((root|empty|nth-)?(?:(first|last|only)-)?(child)?-?(of-type)?)(?:\(([^\x29]*)\))?(.*)/,dpseudos:/^\:(link|visited|target|lang|not|active|focus|hover|checked|disabled|enabled|selected)(?:\((["']*)(.*?(\(.*\))?[^'"()]*?)\2\))?(.*)/,attribute:new RegExp("^\\["+O+"\\](.*)"),children:/^[\x20\t\n\r\f]*\>[\x20\t\n\r\f]*(.*)/,adjacent:/^[\x20\t\n\r\f]*\+[\x20\t\n\r\f]*(.*)/,relative:/^[\x20\t\n\r\f]*\~[\x20\t\n\r\f]*(.*)/,ancestor:/^[\x20\t\n\r\f]+(.*)/,universal:/^\*(.*)/,id:new RegExp("^#("+C+"+)(.*)"),tagName:new RegExp("^("+C+"+)(.*)"),className:new RegExp("^\\.("+C+"+)(.*)")},xt=function(e,t){var n=-1,r;if(!e.length&&Array.slice)return Array.slice(t);while(r=t[++n])e[e.length]=r;return e},Tt=function(e,t,n){var r=-1,i;while(i=t[++r]){if(false===n(e[e.length]=i)){break}}return e},Nt=function(e,t){var s,o=r;l=e;r=e.ownerDocument||e;if(t||o!==r){i=r.documentElement;ut=r.createElement("DiV").nodeName=="DiV";ot=!ut&&typeof r.compatMode=="string"?r.compatMode.indexOf("CSS")<0:function(){var e=r.createElement("div").style;return e&&(e.width=1)&&e.width=="1px"}();s=r.createElement("div");s.appendChild(r.createElement("p")).setAttribute("class","xXx");s.appendChild(r.createElement("p")).setAttribute("class","xxx");it=!ut&&$&&ot&&(s.getElementsByClassName("xxx").length!=2||s.getElementsByClassName("xXx").length!=2);st=!ut&&W&&ot&&(s.querySelectorAll("[class~=xxx]").length!=2||s.querySelectorAll(".xXx").length!=2);Xt.CACHING&&n.setCache(true,r)}},Ct=function(e,t){var n=-1,r=null;while(r=t[++n]){if(r.getAttribute("id")==e){break}}return r},kt=!Y?function(e,t){e=e.replace(/\\/g,"");return t.getElementById&&t.getElementById(e)||Ct(e,t.getElementsByTagName("*"))}:function(e,t){var n=null;e=e.replace(/\\/g,"");if(ut||t.nodeType!=9){return Ct(e,t.getElementsByTagName("*"))}if((n=t.getElementById(e))&&n.name==e&&t.getElementsByName){return Ct(e,t.getElementsByName(e))}return n},Lt=function(e,t){Nt(t||(t=r));return kt(e,t)},At=function(e,t){var n=e=="*",r=t,i=[],s=r.firstChild;n||(e=e.toUpperCase());while(r=s){if(r.tagName>"@"&&(n||r.tagName.toUpperCase()==e)){i[i.length]=r}if(s=r.firstChild||r.nextSibling)continue;while(!s&&(r=r.parentNode)&&r!==t){s=r.nextSibling}}return i},Ot=!Z&&Q?function(e,t){return ut||t.nodeType==11?At(e,t):s.call(t.getElementsByTagName(e),0)}:function(e,t){var n=-1,r=n,i=[],s,o=t.getElementsByTagName(e);if(e=="*"){while(s=o[++n]){if(s.nodeName>"@")i[++r]=s}}else{while(s=o[++n]){i[n]=s}}return i},Mt=function(e,t){Nt(t||(t=r));return Ot(e,t)},_t=function(e,t){return Gt('[name="'+e.replace(/\\/g,"")+'"]',t)},Dt=function(e,t){var n=-1,r=n,i=[],s,o=Ot("*",t),u;e=" "+(ot?e.toLowerCase():e).replace(/\\/g,"")+" ";while(s=o[++n]){u=ut?s.getAttribute("class"):s.className;if(u&&u.length&&(" "+(ot?u.toLowerCase():u).replace(q," ")+" ").indexOf(e)>-1){i[++r]=s}}return i},Pt=function(e,t){return et||it||ut||!t.getElementsByClassName?Dt(e,t):s.call(t.getElementsByClassName(e.replace(/\\/g,"")),0)},Ht=function(e,t){Nt(t||(t=r));return Pt(e,t)},Bt="compareDocumentPosition"in i?function(e,t){return(e.compareDocumentPosition(t)&16)==16}:"contains"in i?function(e,t){return e!==t&&e.contains(t)}:function(e,t){while(t=t.parentNode){if(t===e)return true}return false},jt=!tt?function(e,t){return e.getAttribute(t)||""}:function(e,t){t=t.toLowerCase();if(vt[t]){return e[vt[t]]||""}return mt[t]?e.getAttribute(t,2)||"":dt[t]?e.getAttribute(t)?t:"":(e=e.getAttributeNode(t))&&e.value||""},Ft=!nt?function(e,t){return ut?!!e.getAttribute(t):e.hasAttribute(t)}:function(e,t){t=t.toLowerCase();if(vt[t]){return!!e[vt[t]]}e=e.getAttributeNode(t);return!!(e&&(e.specified||e.nodeValue))},It=function(e){e=e.firstChild;while(e){if(e.nodeType==3||e.nodeName>"@")return false;e=e.nextSibling}return true},qt=function(e){return Ft(e,"href")&&pt[e.nodeName]},Rt=function(e,t){var n=1,r=t?"nextSibling":"previousSibling";while(e=e[r]){if(e.nodeName>"@")++n}return n},Ut=function(e,t){var n=1,r=t?"nextSibling":"previousSibling",i=e.nodeName;while(e=e[r]){if(e.nodeName==i)++n}return n},zt=function(e){for(var t in e){Xt[t]=!!e[t];if(t=="SIMPLENOT"){Yt={};Zt={};en={};tn={};Xt["USE_QSAPI"]=false;H=new RegExp(P,"g")}else if(t=="USE_QSAPI"){Xt[t]=!!e[t]&&W;H=new RegExp(D,"g")}}},Wt=function(t){t="SYNTAX_ERR: "+t+" ";if(Xt.VERBOSITY){if(typeof e.DOMException!="undefined"){throw{code:12,message:t}}else{throw new Error(12,t)}}else{if(e.console&&e.console.log){e.console.log(t)}else{e.status+=t}}},Xt={CACHING:false,SHORTCUTS:false,SIMPLENOT:true,USE_HTML5:false,USE_QSAPI:W,VERBOSITY:true},Vt="r[r.length]=c[k];if(f&&false===f(c[k]))break;else continue main;",$t=function(e,t,n){var r=typeof e=="string"?e.match(F):e;typeof t=="string"||(t="");if(r.length==1){t+=Jt(r[0],n?Vt:"f&&f(k);return true;")}else{var i=-1,s={},o;while(o=r[++i]){o=o.replace(B,"");if(!s[o]&&(s[o]=true)){t+=Jt(o,n?Vt:"f&&f(k);return true;")}}}if(n){return new Function("c,s,r,d,h,g,f","var N,n,x=0,k=-1,e;main:while((e=c[++k])){"+t+"}return r;")}else{return new Function("e,s,r,d,h,g,f","var N,n,x=0,k=e;"+t+"return false;")}},Jt=function(e,t){var n,i,s,o=0,u,a,f,l,c,h;while(e){o++;if(a=e.match(St.universal)){u=""}else if(a=e.match(St.id)){t="if("+(ut?'s.getAttribute(e,"id")':'(e.submit?s.getAttribute(e,"id"):e.id)')+'=="'+a[1]+'"'+"){"+t+"}"}else if(a=e.match(St.tagName)){t="if(e.nodeName"+(ut?'=="'+a[1]+'"':".toUpperCase()"+'=="'+a[1].toUpperCase()+'"')+"){"+t+"}"}else if(a=e.match(St.className)){t="if((n="+(ut?'s.getAttribute(e,"class")':"e.className")+')&&n.length&&(" "+'+(ot?"n.toLowerCase()":"n")+".replace("+q+'," ")+" ").indexOf(" '+(ot?a[1].toLowerCase():a[1])+' ")>-1'+"){"+t+"}"}else if(a=e.match(St.attribute)){u=a[1].split(":");u=u.length==2?u[1]:u[0]+"";if(a[2]&&!wt[a[2]]){Wt('Unsupported operator in attribute selectors "'+e+'"');return""}c=false;h="false";if(a[2]&&a[4]&&(h=wt[a[2]])){gt["class"]=ot?1:0;a[4]=a[4].replace(/\\([0-9a-f]{2,2})/,"\\x$1");c=(ut?yt:gt)[u.toLowerCase()];h=h.replace(/\%m/g,c?a[4].toLowerCase():a[4])}else if(a[2]=="!="||a[2]=="="){h="n"+a[2]+'="'+a[4]+'"'}u="n=s."+(a[2]?"get":"has")+'Attribute(e,"'+a[1]+'")'+(c?".toLowerCase();":";");t=u+"if("+(a[2]?h:"n")+"){"+t+"}"}else if(a=e.match(St.adjacent)){t=G?"var N"+o+"=e;if(e&&(e=e.previousElementSibling)){"+t+"}e=N"+o+";":"var N"+o+'=e;while(e&&(e=e.previousSibling)){if(e.nodeName>"@"){'+t+"break;}}e=N"+o+";"}else if(a=e.match(St.relative)){t=G?"var N"+o+"=e;e=e.parentNode.firstElementChild;"+"while(e&&e!==N"+o+"){"+t+"e=e.nextElementSibling;}e=N"+o+";":"var N"+o+"=e;e=e.parentNode.firstChild;"+"while(e&&e!==N"+o+'){if(e.nodeName>"@"){'+t+"}e=e.nextSibling;}e=N"+o+";"}else if(a=e.match(St.children)){t="var N"+o+"=e;if(e&&e!==h&&e!==g&&(e=e.parentNode)){"+t+"}e=N"+o+";"}else if(a=e.match(St.ancestor)){t="var N"+o+"=e;while(e&&e!==h&&e!==g&&(e=e.parentNode)){"+t+"}e=N"+o+";"}else if((a=e.match(St.spseudos))&&a[1]){switch(a[2]){case"root":if(a[7]){t="if(e===h||s.contains(h,e)){"+t+"}"}else{t="if(e===h){"+t+"}"}break;case"empty":t="if(s.isEmpty(e)){"+t+"}";break;default:if(a[2]&&a[6]){if(a[6]=="n"){t="if(e!==h){"+t+"}";break}else if(a[6]=="even"){n=2;i=0}else if(a[6]=="odd"){n=2;i=1}else{i=(s=a[6].match(/(-?\d+)$/))?parseInt(s[1],10):0;n=(s=a[6].match(/(-?\d*)n/))?parseInt(s[1],10):0;if(s&&s[1]=="-")n=-1}c=i<1&&n>1?"(n-("+i+"))%"+n+"==0":n>+1?a[3]=="last"?"(n-("+i+"))%"+n+"==0":"n>="+i+"&&(n-("+i+"))%"+n+"==0":n<-1?a[3]=="last"?"(n-("+i+"))%"+n+"==0":"n<="+i+"&&(n-("+i+"))%"+n+"==0":n===0?"n=="+i:a[3]=="last"?n==-1?"n>="+i:"n<="+i:n==-1?"n<="+i:"n>="+i;t="if(e!==h){"+"n=s["+(a[5]?'"nthOfType"':'"nthElement"')+"]"+"(e,"+(a[3]=="last"?"true":"false")+");"+"if("+c+"){"+t+"}"+"}"}else{n=a[3]=="first"?"previous":"next";s=a[3]=="only"?"previous":"next";i=a[3]=="first"||a[3]=="last";h=a[5]?"&&n.nodeName!=e.nodeName":'&&n.nodeName<"@"';t="if(e!==h){"+("n=e;while((n=n."+n+"Sibling)"+h+");if(!n){"+(i?t:"n=e;while((n=n."+s+"Sibling)"+h+");if(!n){"+t+"}")+"}")+"}"}break}}else if((a=e.match(St.dpseudos))&&a[1]){switch(a[1]){case"not":u=a[3].replace(B,"");if(Xt.SIMPLENOT&&!j.test(u)){Wt('Negation pseudo-class only accepts simple selectors "'+e+'"');return""}else{if("compatMode"in r){t="if(!"+$t([u],"",false)+"(e,s,r,d,h,g)){"+t+"}"}else{t='if(!s.match(e, "'+u.replace(/\x22/g,'\\"')+'",g)){'+t+"}"}}break;case"checked":c='if((typeof e.form!="undefined"&&(/^(?:radio|checkbox)$/i).test(e.type)&&e.checked)';t=(Xt.USE_HTML5?c+"||(/^option$/i.test(e.nodeName)&&e.selected)":c)+"){"+t+"}";break;case"disabled":t='if(((typeof e.form!="undefined"&&!(/^hidden$/i).test(e.type))||s.isLink(e))&&e.disabled){'+t+"}";break;case"enabled":t='if(((typeof e.form!="undefined"&&!(/^hidden$/i).test(e.type))||s.isLink(e))&&!e.disabled){'+t+"}";break;case"lang":c="";if(a[3])c=a[3].substr(0,2)+"-";t='do{(n=e.lang||"").toLowerCase();'+'if((n==""&&h.lang=="'+a[3].toLowerCase()+'")||'+'(n&&(n=="'+a[3].toLowerCase()+'"||n.substr(0,3)=="'+c.toLowerCase()+'")))'+"{"+t+"break;}}while((e=e.parentNode)&&e!==g);";break;case"target":s=r.location?r.location.hash:"";if(s){t='if(e.id=="'+s.slice(1)+'"){'+t+"}"}break;case"link":t="if(s.isLink(e)&&!e.visited){"+t+"}";break;case"visited":t="if(s.isLink(e)&&e.visited){"+t+"}";break;case"active":if(ut)break;t="if(e===d.activeElement){"+t+"}";break;case"hover":if(ut)break;t="if(e===d.hoverElement){"+t+"}";break;case"focus":if(ut)break;t=z?"if(e===d.activeElement&&d.hasFocus()&&(e.type||e.href)){"+t+"}":"if(e===d.activeElement&&(e.type||e.href)){"+t+"}";break;case"selected":u=rt?"||(n=e.parentNode)&&n.options[n.selectedIndex]===e":"";t="if(/^option$/i.test(e.nodeName)&&(e.selected"+u+")){"+t+"}";break;default:break}}else{u=false;l=true;for(u in bt){if((a=e.match(bt[u].Expression))&&a[1]){f=bt[u].Callback(a,t);t=f.source;l=f.status;if(l)break}}if(!l){Wt('Unknown pseudo-class selector "'+e+'"');return""}if(!u){Wt('Unknown token in selector "'+e+'"');return""}}if(!a){Wt('Invalid syntax in selector "'+e+'"');return""}e=a&&a[a.length-1]}return t},Kt=function(e,t,n,s){var o;if(!(e&&e.nodeName>"@")){Wt("Invalid element argument");return false}else if(!t||typeof t!="string"){Wt("Invalid selector argument");return false}else if(n&&n.nodeType==1&&!Bt(n,e)){return false}else if(l!==n){Nt(n||(n=e.ownerDocument))}t=t.replace(B,"");Xt.SHORTCUTS&&(t=NW.Dom.shortcuts(t,e,n));if(h!=t){if((o=t.match(H))&&o[0]==t){u=(o=t.match(F)).length<2;h=t;d=o}else{Wt('The string "'+t+'", is not a valid CSS selector');return false}}else o=d;if(!Zt[t]||Yt[t]!==n){Zt[t]=$t(u?[t]:o,"",false);Yt[t]=n}return Zt[t](e,nn,[],r,i,n,s)},Qt=function(e,t){return Gt(e,t,function(){return false})[0]||null},Gt=function(e,t,o){var u,h,d,m,g,y,b=e;if(arguments.length===0){Wt("Missing required selector parameters");return[]}else if(e===""){Wt("Empty selector string");return[]}else if(typeof e!="string"){return[]}else if(t&&!/1|9|11/.test(t.nodeType)){Wt("Invalid context element");return[]}else if(l!==t){Nt(t||(t=r))}if(Xt.CACHING&&(m=n.loadResults(b,t,r,i))){return o?Tt([],m,o):m}if(!ft&&ht.test(e)){switch(e.charAt(0)){case"#":if(d=kt(e.slice(1),t)){m=[d]}else m=[];break;case".":m=Pt(e.slice(1),t);break;default:m=Ot(e,t);break}}else if(!ut&&Xt.USE_QSAPI&&!(st&&ct.test(e))&&!lt.test(e)){try{m=t.querySelectorAll(e)}catch(w){}}if(m){m=o?Tt([],m,o):Q?s.call(m):xt([],m);Xt.CACHING&&n.saveResults(b,t,r,m);return m}e=e.replace(B,"");Xt.SHORTCUTS&&(e=NW.Dom.shortcuts(e,t));if(h=p!=e){if((g=e.match(H))&&g[0]==e){a=(g=e.match(F)).length<2;p=e;v=g}else{Wt('The string "'+e+'", is not a valid CSS selector');return[]}}else g=v;if(t.nodeType==11){m=t.childNodes}else if(!ut&&a){if(h){g=e.match(I);y=g[g.length-1];f=y.split(":not")[0];c=e.length-y.length}if((g=f.match(Et.ID))&&(y=g[1])){if(d=kt(y,t)){if(Kt(d,e)){o&&o(d);m=[d]}else m=[]}}else if((g=e.match(Et.ID))&&(y=g[1])){if(d=kt(y,r)){if("#"+y==e){o&&o(d);m=[d]}if(/[>+~]/.test(e)){t=d.parentNode}else{e=e.replace("#"+y,"*");c-=y.length+1;t=d}}else m=[]}if(m){Xt.CACHING&&n.saveResults(b,t,r,m);return m}if(!$&&(g=f.match(Et.TAG))&&(y=g[1])){if((m=Ot(y,t)).length===0){return[]}e=e.slice(0,c)+e.slice(c).replace(y,"*")}else if((g=f.match(Et.CLASS))&&(y=g[1])){if((m=Pt(y,t)).length===0){return[]}if(R.test(e.charAt(e.indexOf(y)-1))){e=e.slice(0,c)+e.slice(c).replace("."+y,"")}else{e=e.slice(0,c)+e.slice(c).replace("."+y,"*")}}else if((g=e.match(Et.CLASS))&&(y=g[1])){if((m=Pt(y,t)).length===0){return[]}for(u=0,els=[];m.length>u;++u){els=xt(els,m[u].getElementsByTagName("*"))}m=els;if(R.test(e.charAt(e.indexOf(y)-1))){e=e.slice(0,c)+e.slice(c).replace("."+y,"")}else{e=e.slice(0,c)+e.slice(c).replace("."+y,"*")}}else if($&&(g=f.match(Et.TAG))&&(y=g[1])){if((m=Ot(y,t)).length===0){return[]}e=e.slice(0,c)+e.slice(c).replace(y,"*")}}if(!m){m=/^(?:applet|object)$/i.test(t.nodeName)?t.childNodes:Ot("*",t)}if(!tn[e]||en[e]!==t){tn[e]=$t(a?[e]:g,"",true);en[e]=t}m=tn[e](m,nn,[],r,i,t,o);Xt.CACHING&&n.saveResults(b,t,r,m);return m},Yt={},Zt={},en={},tn={},nn={nthElement:Rt,nthOfType:Ut,getAttribute:jt,hasAttribute:Ft,byClass:Pt,byName:_t,byTag:Ot,byId:kt,contains:Bt,isEmpty:It,isLink:qt,select:Gt,match:Kt};Tokens={prefixes:m,encoding:C,operators:g,whitespace:y,identifier:k,attributes:A,combinators:b,pseudoclass:M,pseudoparms:w,quotedvalue:E};n.ACCEPT_NODE=Vt;n.emit=Wt;n.byId=Lt;n.byTag=Mt;n.byName=_t;n.byClass=Ht;n.getAttribute=jt;n.hasAttribute=Ft;n.match=Kt;n.first=Qt;n.select=Gt;n.compile=$t;n.contains=Bt;n.configure=zt;n.setCache=function(){return};n.loadResults=function(){return};n.saveResults=function(){return};n.shortcuts=function(e){return e};n.Config=Xt;n.Snapshot=nn;n.Operators=wt;n.Selectors=bt;n.Tokens=Tokens;n.registerOperator=function(e,t){wt[e]||(wt[e]=t)};n.registerSelector=function(e,t,n){bt[e]||(bt[e]={Expression:t,Callback:n})};Nt(r,true)})(this)

/*!
 * selectivizr v1.0.2 - (c) Keith Clark, freely distributable under the terms of the MIT license.
 * selectivizr.com
 */
(function(j){function A(a){return a.replace(B,h).replace(C,function(a,d,b){for(var a=b.split(","),b=0,e=a.length;b<e;b++){var s=D(a[b].replace(E,h).replace(F,h))+o,l=[];a[b]=s.replace(G,function(a,b,c,d,e){if(b){if(l.length>0){var a=l,f,e=s.substring(0,e).replace(H,i);if(e==i||e.charAt(e.length-1)==o)e+="*";try{f=t(e)}catch(k){}if(f){e=0;for(c=f.length;e<c;e++){for(var d=f[e],h=d.className,j=0,m=a.length;j<m;j++){var g=a[j];if(!RegExp("(^|\\s)"+g.className+"(\\s|$)").test(d.className)&&g.b&&(g.b===!0||g.b(d)===!0))h=u(h,g.className,!0)}d.className=h}}l=[]}return b}else{if(b=c?I(c):!v||v.test(d)?{className:w(d),b:!0}:null)return l.push(b),"."+b.className;return a}})}return d+a.join(",")})}function I(a){var c=!0,d=w(a.slice(1)),b=a.substring(0,5)==":not(",e,f;b&&(a=a.slice(5,-1));var l=a.indexOf("(");l>-1&&(a=a.substring(0,l));if(a.charAt(0)==":")switch(a.slice(1)){case "root":c=function(a){return b?a!=p:a==p};break;case "target":if(m==8){c=function(a){function c(){var d=location.hash,e=d.slice(1);return b?d==i||a.id!=e:d!=i&&a.id==e}k(j,"hashchange",function(){g(a,d,c())});return c()};break}return!1;case "checked":c=function(a){J.test(a.type)&&k(a,"propertychange",function(){event.propertyName=="checked"&&g(a,d,a.checked!==b)});return a.checked!==b};break;case "disabled":b=!b;case "enabled":c=function(c){if(K.test(c.tagName))return k(c,"propertychange",function(){event.propertyName=="$disabled"&&g(c,d,c.a===b)}),q.push(c),c.a=c.disabled,c.disabled===b;return a==":enabled"?b:!b};break;case "focus":e="focus",f="blur";case "hover":e||(e="mouseenter",f="mouseleave");c=function(a){k(a,b?f:e,function(){g(a,d,!0)});k(a,b?e:f,function(){g(a,d,!1)});return b};break;default:if(!L.test(a))return!1}return{className:d,b:c}}function w(a){return M+"-"+(m==6&&N?O++:a.replace(P,function(a){return a.charCodeAt(0)}))}function D(a){return a.replace(x,h).replace(Q,o)}function g(a,c,d){var b=a.className,c=u(b,c,d);if(c!=b)a.className=c,a.parentNode.className+=i}function u(a,c,d){var b=RegExp("(^|\\s)"+c+"(\\s|$)"),e=b.test(a);return d?e?a:a+o+c:e?a.replace(b,h).replace(x,h):a}function k(a,c,d){a.attachEvent("on"+c,d)}function r(a,c){if(/^https?:\/\//i.test(a))return c.substring(0,c.indexOf("/",8))==a.substring(0,a.indexOf("/",8))?a:null;if(a.charAt(0)=="/")return c.substring(0,c.indexOf("/",8))+a;var d=c.split(/[?#]/)[0];a.charAt(0)!="?"&&d.charAt(d.length-1)!="/"&&(d=d.substring(0,d.lastIndexOf("/")+1));return d+a}function y(a){if(a)return n.open("GET",a,!1),n.send(),(n.status==200?n.responseText:i).replace(R,i).replace(S,function(c,d,b,e,f){return y(r(b||f,a))}).replace(T,function(c,d,b){d=d||i;return" url("+d+r(b,a)+d+") "});return i}function U(){var a,c;a=f.getElementsByTagName("BASE");for(var d=a.length>0?a[0].href:f.location.href,b=0;b<f.styleSheets.length;b++)if(c=f.styleSheets[b],c.href!=i&&(a=r(c.href,d)))c.cssText=A(y(a));q.length>0&&setInterval(function(){for(var a=0,c=q.length;a<c;a++){var b=q[a];if(b.disabled!==b.a)b.disabled?(b.disabled=!1,b.a=!0,b.disabled=!0):b.a=b.disabled}},250)}if(!/*@cc_on!@*/true){var f=document,p=f.documentElement,n=function(){if(j.XMLHttpRequest)return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(a){return null}}(),m=/MSIE (\d+)/.exec(navigator.userAgent)[1];if(!(f.compatMode!="CSS1Compat"||m<6||m>8||!n)){var z={NW:"*.Dom.select",MooTools:"$$",DOMAssistant:"*.$",Prototype:"$$",YAHOO:"*.util.Selector.query",Sizzle:"*",jQuery:"*",dojo:"*.query"},t,q=[],O=0,N=!0,M="slvzr",R=/(\/\*[^*]*\*+([^\/][^*]*\*+)*\/)\s*/g,S=/@import\s*(?:(?:(?:url\(\s*(['"]?)(.*)\1)\s*\))|(?:(['"])(.*)\3))[^;]*;/g,T=/\burl\(\s*(["']?)(?!data:)([^"')]+)\1\s*\)/g,L=/^:(empty|(first|last|only|nth(-last)?)-(child|of-type))$/,B=/:(:first-(?:line|letter))/g,C=/(^|})\s*([^\{]*?[\[:][^{]+)/g,G=/([ +~>])|(:[a-z-]+(?:\(.*?\)+)?)|(\[.*?\])/g,H=/(:not\()?:(hover|enabled|disabled|focus|checked|target|active|visited|first-line|first-letter)\)?/g,P=/[^\w-]/g,K=/^(INPUT|SELECT|TEXTAREA|BUTTON)$/,J=/^(checkbox|radio)$/,v=m>6?/[\$\^*]=(['"])\1/:null,E=/([(\[+~])\s+/g,F=/\s+([)\]+~])/g,Q=/\s+/g,x=/^\s*((?:[\S\s]*\S)?)\s*$/,i="",o=" ",h="$1";(function(a,c){function d(){try{p.doScroll("left")}catch(a){setTimeout(d,50);return}b("poll")}function b(d){if(!(d.type=="readystatechange"&&f.readyState!="complete")&&((d.type=="load"?a:f).detachEvent("on"+d.type,b,!1),!e&&(e=!0)))c.call(a,d.type||d)}var e=!1,g=!0;if(f.readyState=="complete")c.call(a,i);else{if(f.createEventObject&&p.doScroll){try{g=!a.frameElement}catch(h){}g&&d()}k(f,"readystatechange",b);k(a,"load",b)}})(j,function(){for(var a in z){var c,d,b=j;if(j[a]){for(c=z[a].replace("*",a).split(".");(d=c.shift())&&(b=b[d]););if(typeof b=="function"){t=b;U();break}}}})}}})(this);

